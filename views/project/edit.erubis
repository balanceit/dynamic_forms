
<html> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<title>Edit Project</title> 
    <link rel="stylesheet" type="text/css" href="/extjs/resources/css/ext-all.css" /> 
    <script type="text/javascript" src="/extjs/ext-all.js"></script> 
    <script type="text/javascript" src="/app.js"></script> 
    <script>
    
    Ext.require([
      'Ext.data.*',
      'Ext.grid.*'
    ]);

    function editProject() {
    	    Ext.QuickTips.init();

    	    var bd = Ext.getBody();

    	    /*
    	     * ================  Simple form  =======================
    	     */
    	    bd.createChild({tag: 'h2', html: 'Edit Project'});


    	    var simple = Ext.create('Ext.form.Panel', {
    	        url:'/projects',
    	        standardSubmit: true,    				  
    	        frame:true,
    	        title: 'Project',
    	        bodyStyle:'padding:5px 5px 0',
    	        width: 350,
    	        fieldDefaults: {
    	            msgTarget: 'side',
    	            labelWidth: 75
    	        },
    	        defaultType: 'textfield',
    	        defaults: {
    	            anchor: '100%'
    	        },

    	        items: [{
    	            fieldLabel: 'id',
    	            name: 'id',
    				      disabled:true
    	        },{
    	            fieldLabel: 'Name',
    	            name: 'name',
    	            allowBlank:false
    	        }],

    	        buttons: [
    	          {
    	            text: 'Save',
    				      formbind: true,
    				      handler: function() {
                    // The getForm() method returns the Ext.form.Basic instance:
                    var form = this.up('form').getForm();
                    if (form.isValid()) {
                        // Submit the Ajax request and handle the response
                        form.submit({
                            success: function(form, action) {
                               Ext.Msg.alert('Success', action.result.msg);
                            },
                            failure: function(form, action) {
                                Ext.Msg.alert('Failed', action.result.msg);
                            }
                        });
                      }
                  }
    				    },
    				    {
    	            text: 'Cancel',
    				      handler: function() {
    				        window.location.href='/projects';
                  }
    				    }]
    				  
    	    });
    		simple.render(document.body);
    };
    
    Ext.onReady(editProject);
    </script>
</head> 
<body> 
    
</body> 
</html>

